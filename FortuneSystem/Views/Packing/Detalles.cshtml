@model FortuneSystem.Models.Pedidos.OrdenesCompra

@{
    ViewBag.Title = "Style PO";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script src="~/Scripts/general/obtenerListadoPacking.js"></script>
<script src="~/Scripts/general/calculosPrintShop.js"></script>
<script src="~/Scripts/general/AgregarTallasPacking.js"></script>
<script src="~/Scripts/general/AgregarTallasPackingPPK.js"></script>
<script src="~/Scripts/general/agregarPallet.js"></script>
<script src="~/Scripts/general/actualizarPallet.js"></script>
<style>
    tr.highlighted td {
        background: #b3e0ff;
    }

    input[type=number] {
        width: 50%;
        text-align: center;
    }

    input.numeric {
        width: 50%;
        text-align: center;
    }

    input[type=text] {
        width: 50%;
        text-align: center;
    }

    #guardarBatch {
        margin-left: 750px;
        margin-top: 1px;
        width: 100px;
        height: 40px;
        border: none;
        font-size: 20px;
        font-weight: 600;
    }

    #registrarNuevo {
        margin-left: 50px;
        margin-top: 1px;
        width: 170px;
        height: 40px;
        border: none;
        font-size: 15px;
        font-weight: 600;
    }

    #modificarBatch {
        margin-left: 750px;
        margin-top: 1px;
        width: 120px;
        height: 40px;
        border: none;
        font-size: 20px;
        font-weight: 600;
    }

    #nuevoPallet {
        margin-left: 700px;
        margin-top: 1px;
        width: 120px;
        height: 40px;
        border: none;
        font-size: 20px;
        font-weight: 600;
    }

    #nuevoEmpaquePPK {
        margin-left: 700px;
        margin-top: 1px;
        width: 120px;
        height: 40px;
        border: none;
        font-size: 20px;
        font-weight: 600;
    }

    #nuevoEmpaque {
        margin-left: 700px;
        margin-top: 1px;
        width: 120px;
        height: 40px;
        border: none;
        font-size: 20px;
        font-weight: 600;
    }

    #nuevoEmpaqueBulkHT {
        /* margin-left: 700px;*/
        width: 140px;
        height: 40px;
        border: none;
        font-size: 20px;
        font-weight: 600;
    }
    #btnDone {
        width: 120px;
        height: 40px;
        border: none;
        font-size: 20px;
        font-weight: 600;
    }
    #btnAddPPK {
        width: 130px;
        height: 40px;
        border: none;
        font-size: 20px;
        font-weight: 600;
    }

    #btnNext {
        width: 130px;
        height: 40px;
        border: none;
        font-size: 20px;
        font-weight: 600;
    }

    #btnNuevoPPK {
        width: 130px;
        height: 40px;
        border: none;
        font-size: 20px;
        font-weight: 600;
    }
    #btnNuevo {
        width: 130px;
        height: 40px;
        border: none;
        font-size: 20px;
        font-weight: 600;
    }

    #nuevoEmpaquePPKHT {
        width: 130px;
        height: 40px;
        border: none;
        font-size: 20px;
        font-weight: 600;
    }
    


    input.txtDes {
        background-color: transparent;
        border: 0px;
        outline: none;
        -webkit-box-shadow: none;
        -moz-box-shadow: none;
        box-shadow: none;
        width: 50%;
        font-size: 18px;
        font-weight: 500;
        text-align: justify;
    }



    .center {
        display: block;
        margin-left: auto;
        margin-right: auto;
        width: 60%;
        height: 25%;
    }

    .tImagen {
        text-align: center;
        font-size: 20px;
    }

    img {
        cursor: zoom-in;
    }

    .selected {
        background-color: brown;
        color: #FFF;
    }
</style>
<script>
    $(function () {
        $('img').on('click', function () {
            $('.enlargeImageModalSource').attr('src', $(this).attr('src'));
            $('#enlargeImageModal').modal('show');
        });
    });
</script>


<hr />
<div class="modal fade" id="enlargeImageModal" tabindex="-1" role="dialog" aria-labelledby="enlargeImageModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="exampleModalLabel">ART</h2>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
            </div>
            <div class="modal-body">
                <img class="enlargeImageModalSource center" style="width: 80%;">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<div class="panel panel-primary" id="consultaPO">
    <div class="panel-heading">
        <h2>Reference Order: @Html.DisplayFor(model => model.PO, new { @class = "control-label col-md-6" })  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      Purchase Order: @Html.DisplayFor(model => model.VPO, new { @class = "control-label col-md-6" })</h2>
    </div>
    @Html.HiddenFor(model => model.IdPedido)

</div>

<div class="container-fluid">
    <div class="form-row">
        <div class="form-group col-sm-4 estilo">
            <label style="font-size: x-large; font-weight: 500">
                @Html.LabelFor(model => model.CatCliente.Nombre, new { @class = "control-label" }):
                <label style="font-size: x-large; font-weight: 500">@Html.DisplayFor(model => model.CatCliente.Nombre, new { @class = "control-label col-md-6" })</label>
            </label>
        </div>
        <div class="form-group col-sm-7 estilo">
            <label style="font-size: x-large; font-weight: 500">
                @Html.LabelFor(model => model.CatClienteFinal.NombreCliente, new { @class = "control-label" }):
                <label style="font-size: x-large; font-weight: 300">@Html.DisplayFor(model => model.CatClienteFinal.NombreCliente, new { @class = "control-label col-md-6" })</label>
            </label>
        </div>
    </div>
</div>
<div class="panel panel-primary" id="consultaPO">
    <div class="panel-heading">
        <h4>STYLES</h4>
    </div>
    <div id="div_tabla_estilos" style="width: 100%; height:250px; overflow:auto; ">
        <table id="tabless" class="table table-sm table-striped table-hover ">
            <thead>
                <tr>
                    <th>ITEM</th>
                    <th>ITEM DESCRIPTION</th>
                    <th>COLOR CODE</th>
                    <th>COLOR DESCRIPTION</th>
                    <th>QTY</th>
                    <th>PRICE</th>
                    <th>TOTAL</th>
                    <th>ACTIONS</th>
                </tr>
            </thead>
            <tbody class="tbody"></tbody>
        </table>
    </div>

</div>

<br />
<br />
@if (Model.NombreClienteFinal == "HOT TOPIC")
{
    <script src="~/Scripts/general/obtenerListadoPackingHT.js"></script>
    <div class="row">
        <div class="col-sm-10">
            <div class="panel panel-primary" id="consultaTallaHT" style="visibility:hidden; width: 976px; height: 1200px;">

                <div class="panel-heading">
                    <h4>PACKING HOT TOPIC</h4>
                </div>
                <div class="container-fluid" style=" overflow:auto;">
                    <br />
                    <div id="div_estilo_ht"></div>
                    <button type="button" id="btnAdd" class="btn btn-xs btn-primary classAddQ">+ Add Size</button>
                    <br />
                    <div id="listaTallaHT"></div>
                    <table id="tablePackingHT" class="table table-sm table-striped table-hover ">
                        <thead class="encabezado"></thead>
                        <tbody class="tbodyPHT"></tbody>
                    </table>
                    <button type="button" id="nuevaTalla" class="btn btn-success btn-md pull-right btn-sm">Save Sizes</button>
                    <br />
                </div>
                <div class="container-fluid">
                    <div id="div_titulo_Bulk" style=" overflow:auto; visibility:hidden; "></div>
                    <div id="opciones" style="visibility:hidden;">
                        <div class="form-row">
                            <div class="form-group col-sm-12 tipoP">
                                @Html.LabelFor(model => model.Packing.PackingTypeSize.FormaEmpaque, htmlAttributes: new { @class = "control-label " })
                                @Html.EnumDropDownListFor(model => model.Packing.PackingTypeSize.FormaEmpaque, "Select the packaging form", new { @class = "form-control"/*, @onchange = "ObtenerTallasPorTipo(this);"*/})
                                @Html.ValidationMessageFor(model => model.Packing.PackingTypeSize.FormaEmpaque, "", new { @class = "text-danger" })

                                @Html.LabelFor(model => model.Packing.PackingTypeSize.NumberPO, htmlAttributes: new { @class = "control-label " })
                                @Html.EditorFor(model => model.Packing.PackingTypeSize.NumberPO, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.Packing.PackingTypeSize.NumberPO, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>
                </div>
                <div class="container-fluid">
                    <button type="button" id="btnAddP" class="btn btn-xs btn-primary classAdd">+ Add Size</button>
                    <br />
                    <div id="listaTallaPHT"></div>
                    <br />
                    <br />
                    <br />
                    <div class="btn-toolbar pull-right" role="toolbar" id="grupoBotones" aria-label="Toolbar with button groups">
                        <div class="btn-group mr-2" role="group" aria-label="First group">
                            <button type="button" id="btnDone" class="btn btn-success">Done</button>
                        </div>
                        <div class="btn-group mr-2" role="group" aria-label="Second group">
                            <button type="button" id="btnNuevo" class="btn btn-success" onclick="event.preventDefault(); ConfirmEmpaqueBulk(this);">+ New Bulk</button>
                        </div>
                        <div class="btn-group mr-2" role="group" aria-label="Second group">
                            <button type="button" id="btnNuevoPPK" class="btn btn-success" onclick="event.preventDefault(); ConfirmEmpaquePPK(this);">+ New PPK</button>
                        </div>
                        <div class="btn-group" role="group" aria-label="Third group">
                            <button type="button" id="btnNext" class="btn btn-success">Next PPK</button>
                        </div>
                    </div>
                </div>
                <!--contenedor ppk-->
            </div>
        </div>
        <div class="col-sm-2">
            <div class="panel panel-primary" id="arte" style=" visibility:hidden; width:150px; height: 420px; ">
                <div class="panel-heading">
                    <h4>ART</h4>
                </div>
                <p class="tImagen">STYLE IMAGE</p>
                <br />
                <img id="imagenArte" class="center" />
                <br />
                <br />
                <p class="tImagen">PNL IMAGE</p>
                <br />
                <img id="imagenPNL" class="center" />
            </div>
        </div>
    </div>
}
else
{
    <div class="row">
        <div class="col-sm-10">
            <div class="panel panel-primary" id="consultaTalla" style="visibility:hidden; width: 976px; height: 1200px;">

                <div class="panel-heading">
                    <h4>PACKING</h4>
                </div>

                <div class="container-fluid" style=" overflow:auto;">
                    <br />
                    <div id="div_estilo"></div>
                    <button type="button" id="btnAdd" class="btn btn-xs btn-primary classAddQ">+ Add Size</button>
                    <br />
                    <div id="listaTalla"></div>
                    <table id="tablePacking" class="table table-sm table-striped table-hover ">
                        <thead class="encabezado"></thead>
                        <tbody class="tbodyP"></tbody>
                    </table>
                    <button type="button" id="nuevaTalla" class="btn btn-success btn-md pull-right btn-sm">Save Sizes</button>
                    <br />
                </div>
                <div class="container-fluid">
                    <div id="div_titulo" style=" overflow:auto; visibility:hidden; "></div>
                    <div id="listaTallaBatch"></div>
                    <div id="opciones" style="visibility:hidden;">
                        <div class="form-row">
                            <div class="form-group col-sm-12 tipoP">
                                @Html.LabelFor(model => model.Packing.PackingTypeSize.TipoEmpaque, htmlAttributes: new { @class = "control-label " })
                                @Html.EnumDropDownListFor(model => model.Packing.PackingTypeSize.TipoEmpaque, "Select a type of packaging", new { @class = "form-control"/*, @onchange = "ObtenerTallasPorTipo(this);"*/})
                                @Html.ValidationMessageFor(model => model.Packing.PackingTypeSize.TipoEmpaque, "", new { @class = "text-danger" })

                                @Html.EditorFor(model => model.Packing.PackingTypeSize.NombreTipoPak, new { htmlAttributes = new { @class = "form-control txtDes" } })
                                @Html.ValidationMessageFor(model => model.Packing.PackingTypeSize.NombreTipoPak, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>
                    <button type="button" id="btnAddP" class="btn btn-xs btn-primary classAdd">+ Add Size</button>
                    <br />
                    <div id="listaTallaP"></div>
                    <div id="div_estilo_pack" style="visibility:hidden;"></div>
                    <button type="button" class="btn btn-primary" id="registrarNuevo" data-toggle="modal">
                        <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ADD NEW BATCH
                    </button>
                    <br />
                    <div id="opcionesPack" style="visibility:hidden;">
                        <div class="container-fluid">
                            <div class="form-row">
                                <div class="form-group col-sm-4 ">
                                    @Html.LabelFor(model => model.Packing.Turnos, htmlAttributes: new { @class = "control-label " })
                                    @Html.EnumDropDownListFor(model => model.Packing.Turnos, "Select Turn", new { @class = "form-control" })
                                    @Html.ValidationMessageFor(model => model.Packing.Turnos, "", new { @class = "text-danger" })

                                    @Html.LabelFor(model => model.Packing.CantBox, htmlAttributes: new { @class = "control-label " })
                                    @Html.EditorFor(model => model.Packing.CantBox, new { htmlAttributes = new { @class = "form-control numeric cantBox" } })
                                    @Html.ValidationMessageFor(model => model.Packing.CantBox, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="listaTallaPacking"></div>
                    <button type="button" id="nuevoPallet" class="btn btn-success btn-md pull-right btn-sm"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Pallet</button>
                    <button type="button" class="btn btn-success" id="modificarBatch" onclick="event.preventDefault(); ConfirmRev(this);"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Modify</button>
                </div>
            </div>
        </div>
        <div class="col-sm-2">
            <div class="panel panel-primary" id="arte" style=" visibility:hidden; width:150px; height: 420px; ">
                <div class="panel-heading">
                    <h4>ART</h4>
                </div>
                <p class="tImagen">STYLE IMAGE</p>
                <br />
                <img id="imagenArte" class="center" />
                <br />
                <br />
                <p class="tImagen">PNL IMAGE</p>
                <br />
                <img id="imagenPNL" class="center" />
            </div>
        </div>
    </div>

}
<br />
<br />
<br />

<p>
    @Html.ActionLink("Back to List", "Index")
</p>
<script>
                       /* $('#tabless tr').click(function (e) {
                            $('#tabless tr').removeClass('highlighted');
                            $(this).addClass('highlighted');
                        });*/


                       /* function highlight(e) {
                            if (selected[0]) selected[0].className = '';
                            e.target.parentNode.className = 'selected';
                        }

                        var table = document.getElementById('tabless'),
                            selected = table.getElementsByClassName('selected');
                        table.onclick = highlight;*/
</script>
